<bread-loading *ngIf="submitting"></bread-loading>
<ng-container *ngIf="!userService.isLoggedIn">
    <div class="mt-2">
        <button class="btn btn-outline-dark rounded-pill" (click)="userService.openLoginModal()">
            <fa-icon [icon]="['fas', 'plus']"></fa-icon>
            Add a Comment
        </button>
    </div>
</ng-container>
<ng-container *ngIf="userService.isLoggedIn">
    <form *ngIf="!submitting"
          [formGroup]="form"
          (submit)="onSubmit(form.value)">
        <div class="form-group">
            <label for="content"><small>Comment as <strong>{{userService.username}}</strong></small></label>
            <textarea id="content"
                      class="form-control"
                      placeholder="What are your thoughts?"
                      [formControlName]="'content'"></textarea>
        </div>
        <div class="alert alert-danger" *ngIf="error">{{ error }}</div>
        <div class="d-flex justify-content-end">
            <button type="submit"
                    class="btn btn-dark">Submit
            </button>
        </div>
    </form>
</ng-container>
